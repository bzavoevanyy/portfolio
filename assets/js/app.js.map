{"version":3,"sources":["webpack:///webpack/bootstrap 34062dd8471e08a62121","webpack:///./source/js/app.js","webpack:///./source/js/index/login.js","webpack:///./source/js/preloader/preloader.js"],"names":["ready","init","document","addEventListener","login","loginPatttern","passwordPattern","loginTooltip","getElementById","passwordTooltip","robotTooltip","runFlip","flag","container","querySelector","classList","loginButton","contains","add","style","display","remove","sendForm","Form","getElementsByName","value","password","robot","checked","robotRadio","test","data","checkForm","checkInputs","target","name","parentNode","listener","body","e","id","preventDefault","module","exports","preloader","getImgPaths","paths","img","getElementsByTagName","Array","prototype","slice","call","map","val","tagName","push","attributes","src","getComputedStyle","backgroundImage","search","replace","loadImg","percent","setPersent","length","innerHTML","Math","round","setTimeout","fakeImg","createElement","setAttribute","removeEventListener"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 34062dd8471e08a62121","'use strict';\r\n\r\nimport login from './index/login';\r\nimport preloader from './preloader/preloader';\r\n\r\n\r\nlet ready = () => {\r\n  preloader.init();\r\n  login.init();\r\n};\r\n\r\ndocument.addEventListener('DOMContentLoaded', ready);\r\n\r\n// TODO add main menu\r\n// TODO add sidebar blog for small screens\r\n// TODO add slider\r\n// TODO somethings else :)\n\n\n// WEBPACK FOOTER //\n// ./source/js/app.js","let login = (() => {\r\n  const loginPatttern = /^[a-z0-9_-]{3,16}$/;\r\n  const passwordPattern = /^[a-z0-9_-]{6,18}$/;\r\n  const loginTooltip = document.getElementById('login-tooltip');\r\n  const passwordTooltip = document.getElementById('password-tooltip');\r\n  const robotTooltip = document.getElementById('robot-tooltip');\r\n\r\n  let runFlip = (flag) => {\r\n    let container = document.querySelector('.flip-container').classList;\r\n    let loginButton = document.querySelector('#login');\r\n\r\n\r\n    if (!container.contains('rotate') && !flag) {\r\n      container.add('rotate');\r\n      loginButton.style.display = 'none';\r\n    } else {\r\n      container.remove('rotate');\r\n      loginButton.style.display = '';\r\n    }\r\n  };\r\n  let sendForm = () => {\r\n      class Form {\r\n        constructor() {\r\n          this.login = document.getElementsByName('login')[0].value;\r\n          this.password = document.getElementsByName('password')[0].value;\r\n          this.robot = document.getElementsByName('robot')[0].checked;\r\n          let robotRadio = document.getElementsByName('robot-radio');\r\n\r\n          if (robotRadio[0].checked) {\r\n            this.robotRadio = robotRadio[0].value;\r\n          } else {\r\n            this.robotRadio = robotRadio[1].value\r\n          }\r\n        }\r\n\r\n        checkForm() {\r\n\r\n\r\n          if (!this.robot) { // Проверяем чекбокс \"Я не робот\"\r\n            robotTooltip.classList.add('show');\r\n            return false\r\n          }\r\n          if (this.robotRadio === 'robot') { // Проверяем radioButton \"Я не робот\"\r\n            robotTooltip.classList.add('show');\r\n            return false;\r\n          }\r\n          if (!loginPatttern.test(this.login)) { // Проверяем поле \"Логин\"\r\n            loginTooltip.classList.add('show');\r\n            return false;\r\n          }\r\n          if (!passwordPattern.test(this.password)) { // Проверяем поле \"Пароль\"\r\n            passwordTooltip.classList.add('show');\r\n            return false;\r\n          }\r\n          return true;\r\n        }\r\n      }\r\n\r\n      let data = new Form();\r\n    data.checkForm();\r\n    // TODO send object by AJAX\r\n    }\r\n    ;\r\n  let checkInputs = (target) => {\r\n\r\n\r\n    if (target.name === 'login') {\r\n      if (loginPatttern.test(target.value)) {\r\n        target.parentNode.classList.remove('error');\r\n        target.parentNode.classList.add('noterror');\r\n        if (loginTooltip.classList.contains('show')) {\r\n          loginTooltip.classList.remove('show');\r\n        }\r\n      } else {\r\n        target.parentNode.classList.add('error');\r\n        target.parentNode.classList.remove('noterror');\r\n      }\r\n    }\r\n    if (target.name === 'password') {\r\n      if (passwordPattern.test(target.value)) {\r\n        target.parentNode.classList.remove('error');\r\n        target.parentNode.classList.add('noterror');\r\n        if (passwordTooltip.classList.contains('show')) {\r\n          passwordTooltip.classList.remove('show');\r\n        }\r\n      } else {\r\n        target.parentNode.classList.add('error');\r\n        target.parentNode.classList.remove('noterror');\r\n      }\r\n    }\r\n  };\r\n  let listener = () => {\r\n    document.body.addEventListener('click', (e) => {\r\n\r\n      if (e.target.name === 'robot' || e.target.name === 'robot-radio') {\r\n        if (robotTooltip.classList.contains('show')) {\r\n          robotTooltip.classList.remove('show');\r\n        }\r\n      }\r\n\r\n      switch (e.target.id) {\r\n        case 'login' :\r\n          e.preventDefault();\r\n          runFlip();\r\n          break;\r\n        case 'index' :\r\n          e.preventDefault();\r\n          runFlip();\r\n          break;\r\n        case 'enter' :\r\n          e.preventDefault();\r\n          sendForm();\r\n          break;\r\n        case 'header-wrapper' :\r\n          runFlip(true);\r\n          break;\r\n        case 'dark-block' :\r\n          runFlip(true);\r\n          break;\r\n      }\r\n    });\r\n\r\n    document.body.addEventListener('keyup', (e) => {\r\n\r\n      switch (e.target.name) {\r\n        case 'login' :\r\n          checkInputs(e.target);\r\n          break;\r\n        case 'password' :\r\n          checkInputs(e.target);\r\n          break;\r\n      }\r\n    })\r\n  };\r\n\r\n  return {\r\n    init: () => {\r\n      listener();\r\n    }\r\n  }\r\n\r\n})();\r\n\r\nmodule.exports = login;\n\n\n// WEBPACK FOOTER //\n// ./source/js/index/login.js","let preloader = (() => {\n\n  let getImgPaths = () => {\n    let paths = [];\n    let img = document.body.getElementsByTagName('*');\n    img = Array.prototype.slice.call(img);\n    img.map((val) => {\n      if (val.tagName === 'IMG') {\n        paths.push(val.attributes.src.value)\n      } else {\n        let style = getComputedStyle(val);\n        if (style.backgroundImage.search(/url/) !== -1) {\n          paths.push(style.backgroundImage.replace('url(\"', '').replace('\")', ''));\n        }\n      }\n    });\n    return paths;\n  };\n\n  let loadImg = () => {\n    let paths = getImgPaths();\n    let percent = 0;\n    let setPersent = () => {\n      let preloader = document.querySelector('.preloader');\n      percent += 100 / paths.length;\n      document.getElementById('preloader_text').innerHTML = Math.round(percent) + '%';\n      if (Math.round(percent) >= 100) {\n        preloader.classList.add('preloader--close');\n        setTimeout(()=>{\n          preloader.style.display = 'none';\n        }, 1000);\n      }\n    };\n    paths.map((val) => {\n      let fakeImg = document.createElement('IMG');\n      fakeImg.setAttribute('src', val);\n      fakeImg.addEventListener('load', () => {\n        setPersent();\n      });\n      fakeImg.addEventListener('error', () => {\n        fakeImg.removeEventListener('load', ()=> {\n        });\n        setPersent()\n      });\n    })\n  };\n  return {\n    init: () => {\n      loadImg();\n    }\n  }\n})();\n\nmodule.exports = preloader;\n\n\n// WEBPACK FOOTER //\n// ./source/js/preloader/preloader.js"],"sourceRoot":""}